@page "/search"
@using RoutePlanning.Domain.Locations.Services
@using RoutePlanning.Domain.Locations
@inject SearchService SearchService
@inject IQueryable<Location> Locations

<PageTitle>Search</PageTitle>

<h1>Goods Transfer Form</h1>
    
<form>

    <!-- Origin Dropdown -->
    <div class="form-group">
        <label for="originDropdown">Origin</label>
        <select id="originDropdown" @bind="Origin">
            <option value="Mozambique">Mozambique</option>
        </select>
    </div>

    <!-- Destination Dropdown -->
    <div class="form-group">
        <label for="destinationDropdown">Destination</label>
        <select id="destinationDropdown" @bind="Destination">
            <option value="Tanger">Tanger</option>
        </select>
    </div>

    <!-- Departure Time -->
    <div class="form-group">
        <label for="departureTime">Departure time</label>
        <input type="datetime-local" id="departureTime" @bind="DepartureTime"/>
    </div>

    <!-- Arrival Deadline -->
    <div class="form-group">
        <label for="arrivalDeadline">Arrival deadline</label>
        <input type="datetime-local" id="arrivalDeadline" @bind="ArrivalDeadline"/>
    </div>

    <!-- Weight Input -->
    <div class="form-group">
        <label for="weight">Weight</label>
        <input type="text" id="weight" @bind="Weight"/>
    </div>
    <div class="form-row">
        <div class="form-group col-md-4">
            <label for="height">Height</label>
            <input type="text" id="height" @bind="Height" placeholder="Height" class="form-control"/>
        </div>
        <div class="form-group col-md-4">
            <label for="length">Length</label>
            <input type="text" id="length" @bind="Length" placeholder="Length" class="form-control"/>
        </div>
        <div class="form-group col-md-4">
            <label for="depth">Depth</label>
            <input type="text" id="depth" @bind="Depth" placeholder="Depth" class="form-control"/>
        </div>
    </div>
    
    

   <div class="form-group">
       <label>Categories</label>
       @foreach (var category in Categories)
       {
           <div class="form-check">
               <input type="checkbox" class="form-check-input" value="@category" @onchange="e => HandleCategoryChange(e, category)" checked="@SelectedCategories.Contains(category)" />
               <label class="form-check-label">@category</label>
           </div>
       }
   </div>


    <!-- Recommended Checkbox -->
    <div class="form-check">
        <input type="checkbox" class="form-check-input" id="recommendedCheckbox" @bind="IsRecommended"/>
        <label class="form-check-label" for="recommendedCheckbox">Recommended goods</label>
    </div>

    <!-- Submit Button -->
    <button class="btn btn-primary" @onclick="SubmitForm">Submit</button>
</form>
